import{PreguntaRadio as e}from"./PreguntaRadio.js";class t{minutos;preguntas;codigo;constructor(t,o){this.codigo="",this.minutos=t,this.preguntas=o.map(t=>new e(t.titular,t.descripcion,t.textoPregunta,t.opciones))}getPreguntas(){return this.preguntas}getTiempoValidez(){return this.minutos}generarCodigo(t){var[o,e]=(t.find(t=>"SirokoP0"===t.idpregunta)?.respuesta??"").slice(-2).split("").map(t=>parseInt(t)),o=[(o+e).toString(),(t.find(t=>"SirokoP1"===t.idpregunta)?.respuesta??"").split("").filter(t=>/[b-zB-Z0-9áéíóúüñÁÉÍÓÚÜÑ]/.test(t)&&"a"!==t.toLowerCase()).join("").slice(-4).toUpperCase()].join("");return this.persistirCodigo(o,new Date),this.codigo=o}persistirCodigo(t,o){return localStorage.getItem("horaCupon")||(localStorage.setItem("codigoCupon",t),t=o.getHours().toString().padStart(2,"0")+":"+o.getMinutes().toString().padStart(2,"0"),localStorage.setItem("horaCupon",t)),!0}getCodigo(){return this.codigo}}export{t as CuponRadio};