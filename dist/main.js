import{ControlLocalStorage as e}from"./js/clases/ControlLocalStorage.js";import{CuponManager as o}from"./js/clases/CuponManager.js";import{CuponRadio as t}from"./js/clases/CuponRadio.js";import{iniciarCuentaAtras as a}from"./js/utils/cuentaAtras.js";import{preguntas as n}from"./preguntas.js";let r=20,i=new t(r,n),s=new e(i.getPreguntas().length),c=new o(i,s),l=document.querySelector("#contenedor");function u(){let t=document.querySelector(".subcontenedor");t.addEventListener("click",e=>{var o;e.target.classList.contains("btn")&&(e.preventDefault(),o=(e=document.querySelector('input[name="PreguntaSiroko"]:checked')).dataset.pregunta??"",s.procesarRespuesta(o,e.value),t.innerHTML="",t.innerHTML=c.render().innerHTML,localStorage.getItem("codigoCupon"))&&location.reload()})}function d(){setTimeout(()=>{a(localStorage.getItem("horaCupon"),i.getTiempoValidez(),"crono__reloj",c.anularCupon.bind(c))},0),document.querySelector(".codigo").addEventListener("click",async function(){await navigator.clipboard.writeText(i.getCodigo()),this.classList.add("codigo__copiado"),setTimeout(()=>{this.classList.remove("codigo__copiado")},1e3)})}l.appendChild(c.render()),(localStorage.getItem("codigoCupon")?d:u)();